<!DOCTYPE html>
<html lang="en">
<head>
  <title>Hello, world!</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="" />
</head>
<body>
  <h1>Hello, world!</h1>

  <script>
    function getSocketEndpoint() {
      let endpoint = window.location.origin;
      endpoint = endpoint.replace('http://', 'ws://');
      endpoint = endpoint.replace('https://', 'wss://');
      return endpoint + '/visualization_socket'
    }

    const ws = new WebSocket(getSocketEndpoint());
    ws.onmessage = function(event) {
      console.log(event);
    };
  </script>
</body>
</html>